<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2020 Metadonors Srl
License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->

<odoo>

	<record model="ir.ui.view" id="donationpoints_donationpoint_form_view">
		<field name="name">donationpoints.donationpoint.form (in donationpoints)</field>
		<field name="model">donationpoints.donationpoint</field>
		<field name="arch" type="xml">
			<form>
				<header>
					<field name="activity_state" widget="statusbar" clickable="1"/>
				</header>
				<sheet>
					<div class='oe_title'>
						<label for="name"/>
						<h1>
							<field name="name"/>
						</h1>
					</div>
					<group>
						<field name="location_id"/>
						<field name="location_owner_id"/>
					</group>
					<group>
						<field name="donationbox_id"/>
						<field name="donationbox_theme_id" attrs="{'invisible': [('donationbox_id','=',False)]}"/>
					</group>
					<group>
						<field name="note"/>
					</group>
				</sheet>
				<div class="oe_chatter">
				</div>
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="donationpoints_donationpoint_search_view">
		<field name="name">donationpoints.donationpoint.search (in donationpoints)</field>
		<field name="model">donationpoints.donationpoint</field>
		<field name="arch" type="xml">
			<search>
				<!-- activity state -->
				<filter name="filter_active" string="Active" domain="[('activity_state','=','active')]"/>
				<filter name="filter_suspended" string="Suspended" domain="[('activity_state','=','suspended')]"/>
				<filter name="filter_closed" string="Closed" domain="[('activity_state','=','closed')]"/>

				<!-- group_by -->
				<filter name="groupby_location" string="Location" context="{'group_by':'location_id'}"/>
				<filter name="groupby_user" string="Owner" context="{'group_by':'location_owner_id'}"/>

				<!-- search fields -->
				<field name="location_owner_id" string="Owner"/>
				<field name="location_id" string="Location"/>
				<!--field name="donationbox_id" string="Donationbox"/-->
			</search>
		</field>
	</record>


	<record model="ir.ui.view" id="donationpoints_donationpoint_tree_view">
		<field name="name">donationpoints.donationpoint.tree (in donationpoints)</field>
		<field name="model">donationpoints.donationpoint</field>
		<field name="arch" type="xml">
			<tree>
				<field name="donationbox_id"/>
				<field name="donationbox_theme_id"/>
				<field name="location_id"/>
				<field name="location_owner_id"/>
				<field name="activity_state"/>
			</tree>
		</field>
	</record>


	<record model="ir.actions.act_window" id="donationpoints_donationpoint_act_window">
		<field name="name">Donation Points</field>
		<field name="res_model">donationpoints.donationpoint</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
	</record>

</odoo>
